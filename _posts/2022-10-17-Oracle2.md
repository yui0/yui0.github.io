---
layout: post
title: Oracle CloudのARMにwineをインストール
tags: [orcale,oci,vps,server,nextcloud]
---

Oracle Cloud Infrastructureにwineをインストールする方法。

## アカウント作成

https://www.oracle.com/jp/cloud/free/

## A1インスタンスの作成

* イメージ：Canonical Ubuntu 20.04 (minimalじゃない方 / 22だとwine32が設定できない)
* シェイプ：VM.Standard.A1.Flex 1 OCPU、6GB
* SSHキーは自分のPCで作った公開キーを登録しておくと楽
* パブリックIPv4アドレスの割当て：はい

## A1インスタンスのセットアップ

* SSHでA1インスタンスに接続します。

```
$ ssh -l ubuntu [IPアドレス]
```

* LXDEとRDPをインストールします。

```
# LXDEとRDPのインストール
sudo apt update
sudo apt install -y lxde-core xrdp
sudo update-alternatives --config x-session-manager

#sudo apt install xfce4 # 途中の「Configuring lightdm > Default display manager」では「lightdm」を選択する
sudo sed -i.original -e 's/allowed_users=console/allowed_users=ubuntu/g' /etc/X11/Xwrapper.config # ←「allowed_users」の行を置換
#echo "xfce4-session" > ~/.xsession
sudo passwd ubuntu

sudo iptables -F
sudo netfilter-persistent save

# 一定時間でSSHが切れないようにする
sudo sed -e 's/^#ClientAliveInterval 0/ClientAliveInterval 120/g' -i /etc/ssh/sshd_config
sudo sed -e 's/^#ClientAliveCountMax 3/ClientAliveCountMax 3/g' -i /etc/ssh/sshd_config
sudo service ssh restart

sudo apt install -y midori
```
